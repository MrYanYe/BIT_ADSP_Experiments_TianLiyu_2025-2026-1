clc;
clear;
t=0:0.01:100; 			%将仿真范围限定在0~100,间隔为0.01
m=input('m='); 			%用m控制随机生成的点数
M=1000000*m; 
I=0; 
f=@(x) abs(30*cos(x/(pi)^2)+5*log(x+0.1)+40*sinc((x-2)/pi))+0.01*(x-30).^2;
for i=1:M
    x=100*rand;
    y=100*rand;
    fx=f(x);
    if y<fx
    I=I+1; 			%如果随机数y比x的函数小，则自增1
    end
end
I=I/M 					%I可用于估计均匀分布点落在函数曲线内的概率
S=integral(f,0,100) 	%对函数进行定积分，并在命令行输出结果
disp(['dev=',num2str(abs(I*100^2-S)/S*100),'%']); %在命令行输出仿真结果与实际积分的误差
ft=f(t);
plot(t,ft);
axis([0,100,0,100]); 	%绘制函数图像，并限制坐标轴范围
